# ๐ฐ Wallet Module - ูุญุฏุฉ ุงููุญูุธุฉ

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุธุงู ูุญูุธุฉ ุงุญุชุฑุงูู ูุดุงูู ูุฅุฏุงุฑุฉ ุงูุฃููุงู ูุณุฌู ุงููุนุงููุงุช ุงููุงููุฉ ูููุทุนูุ ูุน ุชุตููู ุนุตุฑู ูุณูู ุงูุงุณุชุฎุฏุงู.

---

## ๐ฏ ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ

โ **ุนุฑุถ ุงูุฑุตูุฏ ุงููุจุงุดุฑ** - ุงูุฑุตูุฏ ุงููุชุงุญ ูุงููุนูู  
โ **ุฅุญุตุงุฆูุงุช ุดุงููุฉ** - ุฅุฌูุงูู ุงูุฅูุฑุงุฏุงุช ูุงููุณุญูุจุงุช  
โ **ุณุฌู ูุงูู ูููุนุงููุงุช** - ุฌููุน ุงูุนูููุงุช ุงููุงููุฉ  
โ **ุชุตููู ุฐูู** - ููุชุฑุฉ ุญุณุจ ุงูููุน ูุงูุญุงูุฉ  
โ **ุทูุจุงุช ุงูุณุญุจ** - ุณุญุจ ุงูุฃููุงู ุจุณูููุฉ  
โ **ุชุตููู ุนุตุฑู** - ูุงุฌูุฉ ุฌุฐุงุจุฉ ูุงุญุชุฑุงููุฉ  
โ **Mock Data** - ุจูุงูุงุช ุชุฌุฑูุจูุฉ ููุงุฎุชุจุงุฑ  

---

## ๐๏ธ ุงูุจููุฉ ุงููุนูุงุฑูุฉ

```
lib/features/profile/
โโโ data/
โ   โโโ models/
โ   โ   โโโ wallet_model.dart          # ููุงุฐุฌ ุงููุญูุธุฉ ูุงููุนุงููุงุช
โ   โโโ mock/
โ       โโโ mock_wallet_data.dart      # ุจูุงูุงุช ุชุฌุฑูุจูุฉ
โโโ presentation/
โ   โโโ screens/
โ   โ   โโโ wallet_screen.dart         # ุงูุดุงุดุฉ ุงูุฑุฆูุณูุฉ
โ   โโโ widgets/
โ       โโโ wallet/
โ           โโโ wallet_balance_card.dart    # ุจุทุงูุฉ ุงูุฑุตูุฏ
โ           โโโ transaction_card.dart       # ุจุทุงูุฉ ุงููุนุงููุฉ
โโโ domain/
โ   โโโ repositories/
โ       โโโ profile_repository.dart    # ูุงุฌูุฉ ุงููุญูุธุฉ
โโโ data/
    โโโ repositories_impl/
        โโโ mock_profile_repository_impl.dart  # ุงูุชุทุจูู ุงูุชุฌุฑูุจู
```

---

## ๐ ููุงุฐุฌ ุงูุจูุงูุงุช

### WalletModel
```dart
class WalletModel {
  final String id;
  final String vendorId;
  final double balance;              // ุงูุฑุตูุฏ ุงููุชุงุญ
  final double totalEarnings;        // ุฅุฌูุงูู ุงูุฅูุฑุงุฏุงุช
  final double totalWithdrawals;     // ุฅุฌูุงูู ุงููุณุญูุจุงุช
  final double pendingAmount;        // ููุฏ ุงููุนุงูุฌุฉ
  final String currency;             // ุงูุนููุฉ (SAR)
  final DateTime? lastUpdated;
}
```

### TransactionModel
```dart
class TransactionModel {
  final String id;
  final TransactionType type;        // ููุน ุงููุนุงููุฉ
  final TransactionStatus status;    // ุงูุญุงูุฉ
  final double amount;                // ุงููุจูุบ
  final double? commissionAmount;     // ุงูุนูููุฉ
  final String? orderId;              // ุฑูู ุงูุทูุจ
  final String? orderNumber;
  final String? reference;            // ุงูุฑูู ุงููุฑุฌุนู
  final String? description;
  final DateTime createdAt;
  final DateTime? completedAt;
}
```

### TransactionType (ุฃููุงุน ุงููุนุงููุงุช)
```dart
enum TransactionType {
  earning       // ๐ฅ ุฅูุฑุงุฏ ูู ุทูุจ
  withdrawal    // ๐ค ุณุญุจ ุฅูู ุญุณุงุจ ุจููู
  commission    // ๐ผ ุนูููุฉ ุงูููุตุฉ
  refund        // โฉ๏ธ ุงุณุชุฑุฌุงุน ูุจูุบ
}
```

### TransactionStatus (ุญุงูุงุช ุงููุนุงููุฉ)
```dart
enum TransactionStatus {
  pending       // โณ ููุฏ ุงููุนุงูุฌุฉ
  completed     // โ ููุชูู
  failed        // โ ูุดู
  cancelled     // ๐ซ ููุบู
}
```

---

## ๐จ ุงูููููุงุช ุงูุฑุฆูุณูุฉ

### 1. WalletBalanceCard
ุจุทุงูุฉ ุนุฑุถ ุงูุฑุตูุฏ ูุน:
- ุชุฏุฑุฌ ูููู ุฌุฐุงุจ
- ุงูุฑุตูุฏ ุงููุชุงุญ ุจุฎุท ูุจูุฑ
- ุฅุญุตุงุฆูุงุช (ุงูุฅูุฑุงุฏุงุชุ ุงููุณุญูุจุงุช)
- ุงููุจูุบ ููุฏ ุงููุนุงูุฌุฉ
- ุชูุณูู ุงููุจุงูุบ ุจููุงุตู

### 2. TransactionCard
ุจุทุงูุฉ ุนุฑุถ ูุนุงููุฉ ูุงุญุฏุฉ ูุน:
- ุฃููููุฉ ููููุฉ ุญุณุจ ุงูููุน
- ุงููุจูุบ (+ ููุฅูุฑุงุฏุงุชุ - ูููุตุฑููุงุช)
- ุญุงูุฉ ุงููุนุงููุฉ
- ุฑูู ุงูุทูุจ (ุฅู ูุฌุฏ)
- ุงูุชุงุฑูุฎ ุจุตูุบุฉ ุฐููุฉ
- ุงูุนูููุฉ (ุฅู ูุฌุฏุช)

### 3. WalletScreen
ุงูุดุงุดุฉ ุงูุฑุฆูุณูุฉ ูุน:
- ุจุทุงูุฉ ุงูุฑุตูุฏ
- ุฒุฑ ุทูุจ ุณุญุจ
- 4 ุชุจููุจุงุช ููููุชุฑุฉ
- ูุงุฆูุฉ ุงููุนุงููุงุช
- ุชูุงุตูู ุงููุนุงููุฉ

---

## ๐ฑ ูุงุฌูุฉ ุงููุณุชุฎุฏู

### ุงูุชุจููุจุงุช
1. **ูู ุงูุนูููุงุช** - ุฌููุน ุงููุนุงููุงุช
2. **ุงูุฅูุฑุงุฏุงุช** - ุงูุฅูุฑุงุฏุงุช ูู ุงูุทูุจุงุช ููุท
3. **ุงููุณุญูุจุงุช** - ุนูููุงุช ุงูุณุญุจ
4. **ุงูุนูููุงุช** - ุงูุนูููุงุช ูุงูุงุณุชุฑ ุฌุงุนุงุช

### ุฃููุงู ุงูููุน
| ุงูููุน | ุงูููู | ุงูุฃููููุฉ |
|------|-------|---------|
| ุฅูุฑุงุฏ | ๐ข ุฃุฎุถุฑ | โฌ๏ธ |
| ุณุญุจ | ๐ต ุฃุฒุฑู | โฌ๏ธ |
| ุนูููุฉ | ๐ก ููุฑูุงูู | % |
| ุงุณุชุฑุฌุงุน | ๐ด ุฃุญูุฑ | โฉ๏ธ |

### ุฃููุงู ุงูุญุงูุฉ
| ุงูุญุงูุฉ | ุงูููู |
|--------|-------|
| ููุชูู | ๐ข ุฃุฎุถุฑ |
| ููุฏ ุงููุนุงูุฌุฉ | ๐ก ููุฑูุงูู |
| ูุดู | ๐ด ุฃุญูุฑ |
| ููุบู | โซ ุฑูุงุฏู |

---

## ๐ง ุงูุงุณุชุฎุฏุงู

### ูุชุญ ุงููุญูุธุฉ
```dart
AppRoutes.pushTo(context, const WalletScreen());
```

### ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ
```dart
final wallet = MockWalletData.mockWallet;
final transactions = MockWalletData.mockTransactions;
```

### ููุชุฑุฉ ุงููุนุงููุงุช
```dart
// ุญุณุจ ุงูููุน
final earnings = MockWalletData.getTransactionsByType(
  TransactionType.earning
);

// ุญุณุจ ุงูุญุงูุฉ
final completed = MockWalletData.getTransactionsByStatus(
  TransactionStatus.completed
);
```

---

## ๐ผ Repository Pattern

### ุงููุงุฌูุฉ
```dart
abstract interface class ProfileRepository {
  Future<PostDataHandle<WalletModel>> getWallet();
  
  Future<PostDataHandle<List<TransactionModel>>> getTransactions({
    TransactionType? type,
    TransactionStatus? status,
    int page = 1,
  });
  
  Future<PostDataHandle<bool>> requestWithdrawal({
    required double amount,
    required String bankAccount,
  });
}
```

### ุงูุชุทุจูู ุงูุชุฌุฑูุจู
```dart
class MockProfileRepositoryImpl implements ProfileRepository {
  // ูุญุงูุงุฉ ุฌููุน ุงูุนูููุงุช ูุน ุชุฃุฎูุฑ ูุงูุนู
  // ุฏุนู Pagination
  // ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
}
```

---

## ๐ ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ

### ุงููุญูุธุฉ
- **ุงูุฑุตูุฏ**: 45,680.50 ุฑูุงู
- **ุฅุฌูุงูู ุงูุฅูุฑุงุฏุงุช**: 156,789.50 ุฑูุงู
- **ุฅุฌูุงูู ุงููุณุญูุจุงุช**: 111,109.00 ุฑูุงู
- **ููุฏ ุงููุนุงูุฌุฉ**: 3,250.00 ุฑูุงู

### ุงููุนุงููุงุช
- 10 ูุนุงููุงุช ูุชููุนุฉ
- ุฅูุฑุงุฏุงุช ูู ุทูุจุงุช ุญููููุฉ
- ุณุญูุจุงุช ููุชููุฉ ูููุฏ ุงููุนุงูุฌุฉ
- ุนูููุงุช ูุงุณุชุฑุฌุงุนุงุช

---

## โจ ุงููููุฒุงุช ุงููุชูุฏูุฉ

### 1. ุทูุจ ุงูุณุญุจ
- Dialog ุฃููู ููุฅุฏุฎุงู
- ุงูุชุญูู ูู ุงูุฑุตูุฏ ุงููุชุงุญ
- ุฅุฏุฎุงู ุฑูู ุงูุญุณุงุจ ุงูุจููู
- ุฅุดุนุงุฑ ูุฌุงุญ

### 2. ุชูุงุตูู ุงููุนุงููุฉ
- Bottom Sheet ุงุญุชุฑุงูู
- ุฌููุน ุชูุงุตูู ุงููุนุงููุฉ
- ุชูุณูู ุฌููู ููุจูุงูุงุช

### 3. ุชูุณูู ุงููุจุงูุบ
- ููุงุตู ููุขูุงู (45,680.50)
- ุนุฑุถ ุงูุนููุฉ
- ุนูุงูุฉ + ููุฅูุฑุงุฏุงุช

### 4. ุงูุชุงุฑูุฎ ุงูุฐูู
- "ููุฐ X ุฏูููุฉ/ุณุงุนุฉ/ููู"
- ุชุงุฑูุฎ ูุงูู ููุนูููุงุช ุงููุฏููุฉ

---

## ๐ ุฏูุฑุฉ ุญูุงุฉ ุงููุนุงููุฉ

```
ุฅูุฑุงุฏ ูู ุทูุจ:
ููุฏ ุงููุนุงูุฌุฉ โ ููุชูู (ุจุนุฏ ุชูุตูู ุงูุทูุจ)

ุณุญุจ:
ููุฏ ุงููุนุงูุฌุฉ โ ููุชูู (ุจุนุฏ ุงูุชุญููู ุงูุจููู)

ุนูููุฉ:
ููุชูู (ูุจุงุดุฑุฉ)

ุงุณุชุฑุฌุงุน:
ููุชูู (ุนูุฏ ุฅูุบุงุก ุทูุจ)
```

---

## ๐ ุงูุฅุญุตุงุฆูุงุช

### ูู ุจุทุงูุฉ ุงูุฑุตูุฏ
- ุฅุฌูุงูู ุงูุฅูุฑุงุฏุงุช
- ุฅุฌูุงูู ุงููุณุญูุจุงุช
- ุงููุจูุบ ููุฏ ุงููุนุงูุฌุฉ (ุฅุฐุง ูุฌุฏ)

### ุญุณุงุจุงุช ุชููุงุฆูุฉ
```dart
ุงูุฑุตูุฏ = ุงูุฅูุฑุงุฏุงุช - ุงููุณุญูุจุงุช - ุงูุนูููุงุช + ุงูุงุณุชุฑุฌุงุนุงุช
```

---

## ๐ ุงูุชุทููุฑุงุช ุงููุณุชูุจููุฉ

- [ ] ุฅุถุงูุฉ Charts ููุฅุญุตุงุฆูุงุช
- [ ] ุชูุงุฑูุฑ ุดูุฑูุฉ/ุณูููุฉ
- [ ] ุชุตุฏูุฑ PDF ูููุนุงููุงุช
- [ ] ุฑุจุท ูุน ุจูุงุจุงุช ุงูุฏูุน
- [ ] ุฅุดุนุงุฑุงุช push ูููุนุงููุงุช
- [ ] ููุชุฑุฉ ูุชูุฏูุฉ (ุชุงุฑูุฎ ูุญุฏุฏ)
- [ ] ุงูุจุญุซ ูู ุงููุนุงููุงุช
- [ ] ุทุจุงุนุฉ ูุดู ุงูุญุณุงุจ

---

## ๐ฏ ุฃูุซูุฉ ุงูุงุณุชุฎุฏุงู

### ุนุฑุถ ุงููุญูุธุฉ
```dart
ProfileActionTile(
  icon: Icons.account_balance_wallet_rounded,
  title: AppMessage.wallet,
  subtitle: 'ุนุฑุถ ุงูุฑุตูุฏ ูุณุฌู ุงููุนุงููุงุช',
  onTap: () {
    AppRoutes.pushTo(context, const WalletScreen());
  },
  iconColor: AppColor.green,
)
```

### ุทูุจ ุณุญุจ
```dart
Future<PostDataHandle<bool>> requestWithdrawal({
  required double amount,
  required String bankAccount,
});
```

---

## ๐ ููุงุญุธุงุช

### ุงูุนูููุฉ
- ูุชู ุฎุตู 10% ุนูููุฉ ูู ูู ุทูุจ
- ุงูุนูููุฉ ุชุธูุฑ ูู ุชูุงุตูู ุงููุนุงููุฉ

### ุงูุณุญุจ
- ุงูุญุฏ ุงูุฃุฏูู: ูู ูุชู ุชุญุฏูุฏู (ูููู ุฅุถุงูุชู)
- ุงูุญุฏ ุงูุฃูุตู: ุงูุฑุตูุฏ ุงููุชุงุญ
- ููุช ุงููุนุงูุฌุฉ: 1-3 ุฃูุงู ุนูู

### ุงูุฃูุงู
- ุฌููุน ุงููุจุงูุบ ุจุตูุบุฉ double
- ุงูุชุญูู ูู ุงูุฑุตูุฏ ูุจู ุงูุณุญุจ
- ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุจุดูู ุตุญูุญ

---

## ๐จ ุงูุชุตููู

### ุงูุฃููุงู
- ุจุทุงูุฉ ุงูุฑุตูุฏ: ุชุฏุฑุฌ ูู ุงูุฃุฒุฑู ุงูุฏุงูู
- ุงูุฅูุฑุงุฏุงุช: ุฃุฎุถุฑ
- ุงููุตุฑููุงุช: ุฃุญูุฑ
- ููุฏ ุงููุนุงูุฌุฉ: ููุฑูุงูู

### ุงูุฎุทูุท
- ุงูุนูุงููู: Bold
- ุงููุจุงูุบ: Bold ูุจูุฑ
- ุงูุชูุงุตูู: Regular ุตุบูุฑ

---

ุชู ุงูุชุตููู ูุงูุชุทููุฑ ุจุนูุงูุฉ ูุงุฆูุฉ โจ

